<!DOCTYPE HTML>
<html lang="fr"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head>
    <title>TDA</title>
    <div th:replace="~{fragments/header :: header-css}"></div>
</head>
<body>
<div th:replace="~{fragments/menu :: menu}"></div>
<div class="container-fluid">
    <div id="top-offset"></div>
    <div id="error"></div>
    <div class="mt-3" th:if="${errorMessage}">
        <div class="alert alert-danger" th:text="${errorMessage}"></div>
    </div>
    <div class="container mt-4">
        <h2>Nouvelle Partie</h2>
        <form method="post" th:action="@{/admin/partie/}" th:object="${partieForm}">
            <div class="row">
                <div class="row align-items-center mb-3" th:if="${nbJoueurs == 6}">
                    <label class="col-4 col-form-label" for="mortId">Mort</label>
                    <div class="col-8">
                        <select class="form-select" id="mortId" th:field="*{mortId}">
                            <option value="0">0 - A definir</option>
                            <option th:each="j : ${joueurs}" th:text="${j.nom}" th:value="${j.id}"></option>
                        </select>
                    </div>
                </div>

                <div class="row align-items-center mb-3">
                    <label class="col-4 col-form-label" for="contratId">Contrat</label>
                    <div class="col-8">
                        <select class="form-select" id="contratId" th:field="*{contratId}">
                            <option value="0">0 - A definir</option>
                            <option th:each="c : ${contrats}" th:text="${c.nom}" th:value="${c.id}"></option>
                        </select>
                    </div>
                </div>

                <div class="row align-items-center mb-3">
                    <label class="col-4 col-form-label" for="preneurId">Preneur</label>
                    <div class="col-8">
                        <select class="form-select" id="preneurId" th:field="*{preneurId}">
                            <option value="0">0 - A definir</option>
                            <option th:each="j : ${joueurs}" th:text="${j.nom}" th:value="${j.id}"></option>
                        </select>
                    </div>
                </div>

                <div class="row align-items-center mb-3" th:if="${nbJoueurs >= 5}">
                    <label class="col-4 col-form-label" for="appelId">Appel</label>
                    <div class="col-8">
                        <select class="form-select" id="appelId" th:field="*{appelId}">
                            <option value="0">0 - A definir</option>
                            <option th:each="j : ${joueurs}" th:text="${j.nom}" th:value="${j.id}"></option>
                        </select>
                    </div>
                </div>

                <div class="col-6 mb-3">
                    <label class="form-label d-block" for="estFait">Contrat</label>
                    <div class="form-check form-switch">
                        <input class="form-check-input" id="estFait" th:field="*{estFait}" type="checkbox">
                        <label class="form-check-label" for="estFait">Fait</label>
                    </div>
                </div>

                <div class="col-6 mb-3">
                    <label class="form-label" for="score">Score</label>
                    <select class="form-select" id="score" th:field="*{score}">
                        <option th:each="s : ${#numbers.sequence(0, 50, 10)}"
                                th:text="${s}"
                                th:value="${s}"></option>
                    </select>
                </div>

                <div class="row align-items-center mb-3">
                    <label class="col-4 col-form-label" for="petitAuBoutId">Petit au bout</label>
                    <div class="col-8">
                        <select class="form-select" id="petitAuBoutId" th:field="*{petitAuBoutId}">
                            <option value="0">0 - A definir</option>
                            <option th:each="j : ${joueurs}" th:text="${j.nom}" th:value="${j.id}"></option>
                        </select>
                    </div>
                </div>

                <div class="col-12 mb-3">
                    <div class="form-check">
                        <input class="form-check-input" id="chelem" th:field="*{chelem}" type="checkbox">
                        <label class="form-check-label" for="chelem">Chelem</label>
                    </div>
                </div>

                <div class="col-12 mb-3">
                    <div class="form-check">
                        <input class="form-check-input" id="capot" th:field="*{capot}" type="checkbox">
                        <label class="form-check-label" for="capot">Capot</label>
                    </div>
                </div>
            </div>

            <button class="btn btn-primary" type="submit">Enregistrer la partie</button>
        </form>
    </div>
</div>
<script src="" th:src="@{/js/partie-form.js}" type="text/javascript"></script>
</body>
</html>
